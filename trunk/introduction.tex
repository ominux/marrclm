\section{Introduction} \label{sec:intro}

Memory hierarchy design~\cite{CACTI51} is becoming one of the most important factors in modern computer systems. The importance of the memory hierarchy increases with the advances in performance of the microprocessors. DRAM has been the common memory technology for main memory while maintaining the capacitor is becoming more and more difficult with the scaling of the feature size of the DRAM process. NAND flash has been widely adopted in storage system such as solid-state disk (SSD) and USB drivers. But there are multiple issues associated with the scaling of NAND flash including floating gate interference, charge loss tolerance and small cell current and coupling ratio. Emerging memory technologies usually have the advantages of high density, non-volatility, zero standby power from memory cells. Among these memory technologies, Phase-change Random Access Memory (PCRAM) and ReRAM have demonstrated excellent scalability beyond 10nm technology node[??] and both of them can be built in crosspoint array structure[??]. Thus PCRAM and ReRAM are being explored as potential alternatives of cost-sensitive DRAM and/or NAND flash. Spin-torque transfer Random Access Memory (STTRAM) has unlimited write endurance while offers 3X-4X more density than SRAM, and is considered as the replacement of on-chip caches[??].

ReRAM have balanced metrics in many aspects, making it a good fit for different levels in memory hierarchies. Compared to PCRAM, ReRAM has much better write properties and slightly more endurance in single-level cell (SLC) operation. It reduces the SET/RESET current from hundreds of microamps (for PCRAM) to tens of microamps and also decrease the single SET/RESET pulse width from at least tens of nanoseconds (for PCRAM) to only a few nanoseconds. Combing the savings in both write current and write time, the switching energy per cell of ReRAM is less than one percent of that of PCRAM, thus solving the well-known power-hungry issue for PCRAM prototypes. Moreover, more than $10^{12}$ write cycles has been reported in several SLC ReRAM technologies [??] while the typical endurance of current PCRAM technology is less than $10^{10}$. Compared to STTRAM, ReRAM has much better read properties and smaller cell size. The large on/off ratio (>100 for many ReRAM technologies) makes it easier to sense the ReRAM resistance difference between high resistance state (HRS) and low resistance state (LRS), considering the typical resistance ratio of STTRAM is smaller than 3.

Projected as a low cost-per-bit memory technology, ReRAM has several features in improving memory density. First, ReRAM has the capability of building cross-point memory arrays, leading a memory cell of only $4F^2$. The array size of cross-point structure is a critical design parameter which has strong impact on the overall footprint of ReRAM prototype [?cong's date?]. It was found that the nonlinearity of the cell size is the key factor in reducing sneak leakage current and thus determining the maximum array size. Some ReRAM technologies have good nonlinearity by nature [?unity, hp?] while most ReRAM technologies need a diode-like device in serial with the ReRAM cell to get enough effective nonlinearity. Fortunately, there materials with required properties such as enough driving current density, CMOS-compatability, scalability have been widely explored [??] and are better engineered to incorporate in "1D1R" structure. Second, multi-layered crosspoint structure can be built to further reduce the memory cell size to $4F^2//n$, where n is the number of stacking crosspoint layers. 4-layered crosspoint ReRAM prototypes have already been demonstrated with reliable read and write operations. However, multi-layer stacking extends the effective array size in the vertical dimension while the maximum array size is still constrained by the nonlinearity, wire resistance, Third, many ReRAM material systems,
such as CuOx[??], TiOx [??], HfOx [??], WOx [??], and TaOx [??], were reported to be capable of MLC operation. Table ? summarizes the current demonstrated MLC ReRAM metrics in different ReRAM technologies. There are many endurance/speed/power trade-offs of MLC operations in different ReRAM material systems. For example, compared to $T_iO_x$-based ReRAM, $T_aO_x$-based ReRAM has better endurance but needs large RESET voltage (>5V). MLC offers another opportunity to improve ReRAM density and is potentially a orthogonal solution to crosspoint structure. But like the choice of multi-layer stacking, MLC degrades the read and write margin in crosspoint array and needs better cell-level characteristics or circuit-level design tricks to maintain the same array size.

\begin{table}[t]
\centering
\caption{Characteristics of MLC metrics in ReRAM technologies}
\vspace{-5pt}
\label{tb:0t1r}
\begin{tabular}{ l | c | c | c | c | c}
\hline\hline
Material System & $T_iO_x$ & $T_aO_x$ & $H_fO_x$ & $WO_x$ & $C_uO_x$\\
\hline
MLC levels & 5 & 4 & 5 & 8 & 5\\
\hline
$R_{off}$/$R_{on}$& $>1000$ & $>1000$ & $>100$ & $>10$ & $>100$\\
\hline
MLC endurance  & $>10^6$ & $>10^7$ & $>10^5$ & $>10^4$ & -\\

\hline\hline
\end{tabular}
\vspace{-10pt}
\end{table}

Multi-step write-and-verify scheme is required in MLC ReRAM programming because there exists both device-to-device variation due to process variations and cycle-to-cycle variation due to stochastic switching mechanism. The desired resistance states can be achieved in two opposite directions. We can start from the HRS state and get the intermediate LRS resistance by controlling the amplitude of the SET current. This is due to due to the modulation of the diameter or the number of conductive filaments (CFs). We note the programming method by ramping up SET current as H2L (HRS-to-LRS) programming. Or we can start from the LRS state and get the intermediate HRS resistance by controlling the amplitude of the RESET voltage. This is due to the modulation of the ruptured CF length. We note the programming method by ramping up RESET voltage as L2R (LRS-to-HRS) programming. In H2L programming, lower LRS resistance states needs more iteration steps thus have longer write latencies while higher LRS are with weaker CFs thus more vulnerable to retention failure (to HRS). In L2H programming, the initial LRS is with strong CFs thus more intermediate HRS are vulnerable to retention failure (to LRS). Based on the observation, we propose two programming schemes: fast programming scheme targeted at reducing write latency/energy; and reliable programming schemes targeted at improving the memory reliability. The fast programming scheme choose either H2L or L2H based on the target state: H2L is deployed if the target state is close to HRS; L2H is deployed otherwise. The reliable programming scheme first deploy H2L: if target state is relatively low then programming completes after H2L; otherwise H2L programs the cell to an intimidate LRS slightly lower than the target state and then RESET voltage is ramped up to increase the cell resistance to target state. The reliable programming scheme can be adopted when data integrity is extremely important. For example, in disk drives data may be stored for years and should not be changed unintentionally. The fast programming scheme may be adopted when memory performance is more critical and infrequent retention failure can be tolerated. For example, in traditional DRAM main memory, ECC was introduced to tackle soft errors due to particle strike and it can be inherent for ReRAM-based main memory to correct retention failure. What's more, the data in main memory are usually updated frequently, relaxing the retention requirement from years to days or even shorter. 




